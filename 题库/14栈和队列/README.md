# 栈和队列习题
## 选择题 1,3,5,7,12,13,16,20 CDDABCBC
1、一个栈的输入序列为：a，b，c，d，e，则栈的不可能输出的序列是（  ）。  
A. a,b,c,d,e    
B. d,e,c,b,a             
C. d,c,e,a,b             
D. e,d,c,b,a     

2、判断一个循环队列Q（最多n个元素）为满的条件是（ ）。   
A. Q->rear==Q->front                
B. Q->rear==Q->front+1       
C. Q->front==(Q->rear+1)%n           
D. Q->front==(Q->rear-1)%n  

3、设计一个判别表达式中括号是否配对的算法，采用（   ）数据结构最佳。   
A. 顺序表           
B. 链表            
C. 队列          
D. 栈  
4、带头结点的单链表head为空的判定条件是（  ）。   
 
A. head==NULL　         
B. head->next==NULL      
C. head->next!=NULL    
D. head!=NULL  

5、一个栈的输入序列为：1,2,3,4，则栈的不可能输出的序列是（  ）。   

A. 1243           
B. 2134        
C. 1432         
D. 4312       
E. 3214   

6、若用一个大小为6的数组来实现循环队列，且当rear和front的值分别为0，3。当从队列中删除一个元素，再加入两个元素后，rear和front的值分别为（   ）。  
A. 1和5               
B. 2和4         
C. 4和2         
D. 5和1  

7、队列的插入操作是在（   ）。    

A. 队尾               
B. 队头        
C. 队列任意位置    
D. 队头元素后  

8、循环队列的队头和队尾指针分别为front和rear，则判断循环队列为空的条件是（   ）。    

A. front==rear            
B. front==0     
C. rear==0              
D. front=rear+1  

9、一个顺序栈S，其栈顶指针为top，则将元素e入栈的操作是（   ）。  
A. *S->top=e;S->top++;           
B. S->top++;*S->top=e;   
C. *S->top=e                     
D. S->top=e;  

10、表达式a*(b+c)-d的后缀表达式是（  ）。    

A. abcd+-　       
B. abc+*d-    
C. abc*+d-      
D. -+*abcd  

11、将递归算法转换成对应的非递归算法时，通常需要使用（   ）来保存中间结果。     
  
A. 队列         
B. 栈          
C. 链表            
D. 树  

12、栈的插入和删除操作在（  ）。  

A. 栈底          
B. 栈顶         
C. 任意位置          
D. 指定位置  

13、五节车厢以编号1，2，3，4，5顺序进入铁路调度站（栈），可以得到（   ）的编组。  

A. 3，4，5，1，2            
B. 2，4，1，3，5      
C. 3，5，4，2，1            
D. 1，3，5，2，4  

14、判定一个顺序栈S（栈空间大小为n）为空的条件是（   ）。    

A. S->top==0          
B. S->top!=0         
C. S->top==n          
D. S->top!=n  

15、在一个链队列中，front和rear分别为头指针和尾指针，则插入一个结点s的操作为（   ）。   

A. front=front->next       
B. s->next=rear;rear=s
C. rear->next=s;rear=s;     
D. s->next=front;front=s; 

16、一个队列的入队序列是1，2，3，4，则队列的出队序列是（   ）。  

A. 1，2，3，4　                  
B. 4，3，2，1 
C. 1，4，3，2                  
D. 3，4，1，2

17、依次在初始为空的队列中插入元素a,b,c,d以后，紧接着做了两次删除操作，此时的队头元素是（   ）。  

A. a           
B. b              
C. c           
D. d   

18、正常情况下，删除非空的顺序存储结构的堆栈的栈顶元素，栈顶指针top的变化是（   ）。  

A. top不变          
B. top=0      
C. top=top+1        
D. top=top-1  

19、判断一个循环队列Q（空间大小为M）为空的条件是（   ）。  

A. Q->front==Q->rear             
B. Q->rear-Q->front-1==M     
C. Q->front+1=Q->rear              
D. Q->rear+1=Q->front  

20、设计一个判别表达式中左右括号是否配对出现的算法，采用（   ）数据结构最佳。  

A. 线性表的顺序存储结构    
B. 队列     
C. 栈          
D. 线性表的链式存储结构

21、当用大小为N的数组存储顺序循环队列时，该队列的最大长度为（   ）。  
A. N　        
B. N+1        
C. N-1        
D. N-2

22、队列的删除操作是在（   ）。   

A. 队首　         
B. 队尾        
C. 队前          
D. 队后  

23、若让元素1，2，3依次进栈，则出栈次序不可能是（   ）。   

A. 3，2，1　       
B. 2，1，3      
C. 3，1，2           
D. 1，3，2  

24、循环队列用数组A[0，m-1]存放其元素值，已知其头尾指针分别是front和rear，则当前队列中的元素个数是（   ）。  

A. (rear-front+m)%m          
B. rear-front+1     
C. rear-front-1             
D. rear-front  

25、在解决计算机主机和打印机之间速度不匹配问题时，通常设置一个打印数据缓冲区，主机将要输出的数据依次写入该缓冲区，而打印机则从该缓冲区中取走数据打印。该缓冲区应该是一个（   ）结构。     
A. 堆栈         
B. 队列         
C. 数组         
D. 线性表  
 
26、栈和队列都是（   ）。     

A. 链式存储的线性结构                
B. 链式存储的非线性结构           
C. 限制存取点的线性结构             
D. 限制存取点的非线性结构      

27、在一个链队列中，假定front和rear分别为队头指针和队尾指针，删除一个结点的操作是（   ）。      
A. front=front->next        
B. rear= rear->next        
C. rear->next=front          
D. front->next=rear  

28、队和栈的主要区别是（   ）。      
A. 逻辑结构不同                     
B. 存储结构不同  
C. 所包含的运算个数不同             
D. 限定插入和删除的位置不同 

答案： C D D A B C B C 
## 编程题 
### 机器翻译   
* 题目描述：
小晨的电脑上安装了一个机器翻译软件，他经常用这个软件来翻译英语文章。这个翻译软件的原理很简单，它只是从头到尾，依次将每个英文单词用对应的中文含义来替换。 对于每个英文单词，软件会先在内存中查找这个单词的中文含义，如果内存中有，软件就会用它进行翻译，如果内存中没有，软件就会在外存中的词典查找查出单词的中文含义然后翻译，并将这个单词和译义放入内存，以备后续的查找和翻译。 假设内存中有m个单元，每单元能存放一个单词和译义。 每当软件将一个新单词存入内存前，如果当前内存中已存入的单词数不超过 m-1，软件会将新单词存入一个未使用的内存单元，若内存中已存入m个单词，软件会清空最早进入内存的那个单词，用腾出单元来，存放新单词。假设一篇英语文章的长度为n个单词。给定这篇待译文章，翻译软件需要去外存查找多少次词典？ 假设在翻详开始前，内存中没有任何单词。
* 输入格式： 
共两行，整数之间以一个空格隔开；   
第一行包含两个正整数 m、n (1=<m<=100 ,1=<n <=1000），表示内存容量和文章的单词数；  
第二行包含n个正整数 （1≤正整数≤1000），按照文章的顺序，每个数代表一个英文单词，相同单词用同一个正整数表示
输出格式   
一个整数， 表示需要外查词典的次数
输入样例    
3 7  
1 2 1 5 4 4 1   
输出样例  
5  
* 题目分析：   
翻译软件的内存相当于队列，内存中的单词用 boo1 类型的数组进行标记：   
1. 读入整数表示的新单词：     
    1）若 boo1 类型的数组已标记， 则不需要向外查找， 继续下一个单词；   
    2）若 bool 类型的数组未标记， 且内存没满，加入内存，向外查找计数+1该单词标记为 true     
    3）若 boo1 类型的数组未标记，且内存已满，内存中最早入队的单词出队，该单词标记为 false   
2. 直至文章查找完毕

```cpp
#include<iostream>
#include<queue>
using namespace std;
bool in_queue[1001]={false};
int main()
{
    int m,n;
    cin >> m >> n;
    queue<int> word;
    int count = 0;
    while(n--)
    {
        int x;
        cin >> x;
        if(in_queue[x]) continue;  // 若单词已经在队列中，跳过
        if(word.size() == m){ //如果读取的单词不在队列，且队列已满，队首出队，单词入队
            in_queue[word.front()] = false;
            word.pop();
        }
        // 若读取的单词不在队列 ，且队列未满，则单词标记后入队
        in_queue[x] = true;
        word.push(x);
        count ++;
    }
    cout << count <<endl;
    return 0;

}

```
### 表达式括号匹配(stack)
* 题目描述：假设一个表达式有英文字母（小写）、运算符（+，—，∗，/）和左右小（圆）括号构成，以“@”作为表达式的结束符。请编写一个程序检查表达式中的左右圆括号是否匹配，若匹配，则返回“YES”；否则返回“NO”。表达式长度小于255，左圆括号少于20个。
* 输入数据： 一行数据，即表达式。
* 输出数据： 一行，即“YES” 或“NO”。
* 输入样例： 2*(x+y)/(1-x)@ 
* 输出样例： YES
* 题目分析：本题需要用到栈
* 示例代码：



### 周末舞会
* 题目描述： 假设在周末舞会上，男士们和女士们进入舞厅时，各自排成一队。跳舞开始时，依次从男队和女队的队头上各出一人配成舞伴。规定每个舞曲能有一对跳舞者。若两队初始人数不相同，则较长的那一队中未配对者等待下一轮舞曲。现要求写一个程序，模拟上述舞伴配对问题。
* 输入：第一行两队的人数;第二行舞曲的数目。
* 输出：配对情况
* 输入样例：
4 6   
7  
* 输出样例：
1  1  
2  2  
3  3  
4  4  
1  5  
2  6  
3  1    

* 试题分析：本题甚至不需要用到队列，需要用到队列的思想
